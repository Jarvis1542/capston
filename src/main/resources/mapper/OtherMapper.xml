<?xml version="1.0" encoding="UTF-8"?> <!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.fivekm_home.charge.mapper.OtherMapper">

    <!-- 1월 ~ 12월 조회(String, number) -->
    <select id="membersDate" resultType="com.fivekm_home.charge.domain.OTHER.MembersDate">
        select CREATED_DATE from member
    </select>

    <!-- 충전소 랭킹 조회 -->
    <select id="ranking" resultType="com.fivekm_home.charge.domain.OTHER.PaycountSCS">
        SELECT * FROM (
            SELECT A.SCS_PIC, C.ROAD_ADDR, COUNT(B.SCS_NAME) as PAYCOUNT
            FROM SCS A, SCS_PAY B, RES C
            WHERE A.SCS_NAME = B.SCS_NAME
            AND A.RES_NAME = C.RES_NAME
            GROUP BY A.SCS_PIC, C.ROAD_ADDR, B.SCS_NAME
            order by PAYCOUNT desc
        ) WHERE ROWNUM <![CDATA[ <= ]]> 3
    </select>

</mapper>
